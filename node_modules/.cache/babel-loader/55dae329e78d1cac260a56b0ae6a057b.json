{"ast":null,"code":"import _classCallCheck from \"D:\\\\work\\\\vscode-workspace\\\\zy-home\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\work\\\\vscode-workspace\\\\zy-home\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\work\\\\vscode-workspace\\\\zy-home\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\work\\\\vscode-workspace\\\\zy-home\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\work\\\\vscode-workspace\\\\zy-home\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\work\\\\vscode-workspace\\\\zy-home\\\\src\\\\zyhome\\\\main\\\\imageplay\\\\photoplay.js\";\nimport React, { Component } from 'react';\nimport PlayImgBut from './PlayImgBut';\nimport PlayImage from './PlayImage';\nimport PlayPoints from './PlayImgPoints';\nimport StartBut from './StartBut';\nimport './photoplay.css'; //参照https://www.jianshu.com/p/89641c15fdbc\n\nvar Photoplay =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Photoplay, _Component);\n\n  function Photoplay() {\n    var _this;\n\n    _classCallCheck(this, Photoplay);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Photoplay).call(this));\n\n    _this.handleSubmit = function (flag) {\n      clearInterval(_this.change);\n\n      if (flag == 1) {\n        //eslint-disable-line\n        if (_this.state.nowImgNumber == 5) {\n          //eslint-disable-line\n          _this.setState({\n            nowImgNumber: 0,\n            isStart: false\n          });\n        } else {\n          _this.setState({\n            nowImgNumber: _this.state.nowImgNumber + 1,\n            isStart: false\n          });\n        }\n      } else {\n        if (_this.state.nowImgNumber == 0) {\n          //eslint-disable-line\n          _this.setState({\n            nowImgNumber: 5,\n            isStart: false\n          });\n        } else {\n          _this.setState({\n            nowImgNumber: _this.state.nowImgNumber - 1,\n            isStart: false\n          });\n        }\n      }\n\n      _this.change = setInterval(function () {\n        return _this.changeNum();\n      }, _this.state.playTime);\n    };\n\n    _this.handlePoint = function (idNum) {\n      clearInterval(_this.change);\n\n      _this.setState({\n        nowImgNumber: idNum,\n        isStart: false\n      });\n    };\n\n    _this.handlePointStart = function () {\n      _this.change = setInterval(function () {\n        return _this.changeNum();\n      }, _this.state.playTime);\n    };\n\n    _this.reviseTime = function (time) {\n      clearInterval(_this.change);\n\n      _this.setState({\n        playTime: _this.state.playTime + time\n      });\n\n      _this.change = setInterval(function () {\n        return _this.changeNum();\n      }, _this.state.playTime + time);\n    };\n\n    _this.state = {\n      nowImgNumber: 0,\n      isStart: false,\n      playTime: 2000\n    };\n    return _this;\n  }\n\n  _createClass(Photoplay, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.change = setInterval(function () {\n        return _this2.changeNum();\n      }, this.state.playTime);\n    }\n  }, {\n    key: \"handleStart\",\n    value: function handleStart() {\n      var _this3 = this;\n\n      if (this.state.isStart) {\n        this.change = setInterval(function () {\n          return _this3.changeNum();\n        }, this.state.playTime);\n      } else {\n        clearInterval(this.change);\n      }\n\n      this.setState({\n        isStart: !this.state.isStart\n      });\n    }\n  }, {\n    key: \"changeNum\",\n    value: function changeNum() {\n      if (this.state.nowImgNumber == 5) {\n        //eslint-disable-line\n        this.setState({\n          nowImgNumber: 0\n        });\n      } else {\n        this.setState({\n          nowImgNumber: this.state.nowImgNumber + 1\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearInterval(this.change);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"photoplay\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(PlayImage, {\n        num: this.state.nowImgNumber,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }), React.createElement(PlayImgBut, {\n        id: \"leftB\",\n        value: \"<\",\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }), React.createElement(PlayImgBut, {\n        id: \"rightB\",\n        value: \">\",\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }), React.createElement(PlayPoints, {\n        num: this.state.nowImgNumber,\n        onPoint: this.handlePoint,\n        start: this.handlePointStart,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }), React.createElement(StartBut, {\n        onStart: this.handleStart.bind(this),\n        isStart: this.state.isStart,\n        reviseTime: this.reviseTime,\n        nowTime: this.state.playTime,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Photoplay;\n}(Component);\n\nexport default Photoplay;","map":{"version":3,"sources":["D:\\work\\vscode-workspace\\zy-home\\src\\zyhome\\main\\imageplay\\photoplay.js"],"names":["React","Component","PlayImgBut","PlayImage","PlayPoints","StartBut","Photoplay","handleSubmit","flag","clearInterval","change","state","nowImgNumber","setState","isStart","setInterval","changeNum","playTime","handlePoint","idNum","handlePointStart","reviseTime","time","handleStart","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport PlayImgBut from './PlayImgBut';\r\nimport PlayImage from './PlayImage';\r\nimport PlayPoints from './PlayImgPoints';\r\nimport StartBut from './StartBut';\r\n\r\nimport './photoplay.css';\r\n\r\n//参照https://www.jianshu.com/p/89641c15fdbc\r\n\r\nclass Photoplay extends Component {\r\n\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            nowImgNumber: 0 ,\r\n            isStart: false ,\r\n            playTime: 2000 ,\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.change = setInterval(()=>this.changeNum(),this.state.playTime);\r\n    }\r\n\r\n    handleStart() {\r\n        if(this.state.isStart){\r\n            this.change = setInterval(()=>this.changeNum(),this.state.playTime);\r\n        } else {\r\n            clearInterval(this.change);\r\n        }\r\n        this.setState({\r\n            isStart:!this.state.isStart,\r\n        })\r\n    }\r\n\r\n    changeNum(){\r\n        if(this.state.nowImgNumber == 5){   //eslint-disable-line\r\n            this.setState({\r\n                nowImgNumber:0,\r\n            })\r\n        }else{\r\n            this.setState({\r\n                nowImgNumber:this.state.nowImgNumber+1,\r\n            })\r\n        }\r\n    }\r\n\r\n    handleSubmit = (flag)=>{\r\n        clearInterval(this.change);\r\n        if(flag == 1){  //eslint-disable-line\r\n            if(this.state.nowImgNumber == 5){   //eslint-disable-line\r\n                this.setState({\r\n                    nowImgNumber: 0,\r\n                    isStart: false,\r\n                })\r\n            } else {\r\n                this.setState({\r\n                    nowImgNumber: this.state.nowImgNumber + 1,\r\n                    isStart:false,\r\n                })\r\n            }\r\n        } else {\r\n            if(this.state.nowImgNumber == 0){   //eslint-disable-line\r\n                this.setState({\r\n                    nowImgNumber: 5,\r\n                    isStart: false,\r\n                })\r\n            } else {\r\n                this.setState({\r\n                    nowImgNumber: this.state.nowImgNumber - 1,\r\n                    isStart: false,\r\n                })\r\n            }\r\n        }\r\n        this.change = setInterval(()=>this.changeNum(),this.state.playTime);\r\n    }\r\n\r\n    handlePoint = (idNum)=>{\r\n        clearInterval(this.change);\r\n        this.setState({\r\n            nowImgNumber: idNum,\r\n            isStart:false,\r\n        })\r\n    }\r\n\r\n    handlePointStart=()=>{\r\n        this.change = setInterval(()=>this.changeNum(),this.state.playTime);\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        clearInterval(this.change);\r\n    }\r\n\r\n    reviseTime = (time)=>{\r\n        clearInterval(this.change);\r\n        this.setState({\r\n            playTime:this.state.playTime+time,\r\n        })\r\n        this.change = setInterval(()=>this.changeNum(),this.state.playTime + time);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"photoplay\">\r\n               <PlayImage num={this.state.nowImgNumber}/>\r\n               <PlayImgBut id='leftB' value='<' onSubmit={this.handleSubmit}/>\r\n               <PlayImgBut id='rightB' value='>' onSubmit={this.handleSubmit}/>\r\n               <PlayPoints num={this.state.nowImgNumber} onPoint={this.handlePoint} start={this.handlePointStart}/>\r\n               <StartBut onStart={this.handleStart.bind(this)} isStart={this.state.isStart} reviseTime={this.reviseTime} nowTime={this.state.playTime}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default Photoplay;"]},"metadata":{},"sourceType":"module"}